{% from "macros/_vf_nav-mobile.jinja" import vf_nav_mobile %}
{% from "macros/_vf_nav-dropdown.jinja" import vf_nav_dropdown %}

{% set dropdown = {
  'products': [
    {
      'href': '/desktop',
      'title': 'Ubuntu 桌面系统',
      'description': '现代且安全的 Linux 桌面'
    },
    {
      'href': '/openstack',
      'title': 'OpenStack',
      'description': '面向企业的高性能云平台'
    },
    {
      'href': '/landscape',
      'title': '系统管理',
      'description': '集中监控与管理多台设备'
    },
    {
      'href': '/server',
      'title': 'Ubuntu 服务器',
      'description': '面向云环境的可扩展 Linux'
    },
    {
      'href': '/microcloud',
      'title': 'MicroCloud',
      'description': '轻量、自动化的云端部署'
    },
    {
      'href': '/support',
      'title': '技术支持',
      'description': '面向全栈的全天候技术支持'
    },
    {
      'href': '/core',
      'title': 'Ubuntu Core',
      'description': '为物联网设计的嵌入式 Linux'
    },
    {
      'href': '/core',
      'title': 'Kubernetes',
      'description': '容器化应用的运行环境'
    },
    {
      'href': '/certified',
      'title': '认证硬件',
      'description': '经 Ubuntu 认证的硬件设备'
    },
    {
      'href': '/pro',
      'title': 'Ubuntu Pro 订阅',
      'description': '长期的安全与合规保障服务'
    }
  ],
  'solutions': [
    {
      'href': '/ai',
      'title': '开源 AI/ML',
      'description': '人工智能和机器学习工作负载'
    },
    {
      'href': '/infrastructure',
      'title': '基础架构',
      'description': '高效敏捷的数据中心运维'
    },
    {
      'href': '/internet-of-things',
      'title': '物联网',
      'description': '实现大规模设备部署与管理'
    }
  ]
} %}

{% block header_banner %}
  <header id="navigation"
          class="p-navigation--sliding is-dark is-sticky">
    <div class="p-navigation__row--25-75">
      <div class="p-navigation__banner">
        <div class="p-navigation__tagged-logo">
          <a class="p-navigation__link" href="/">
            <div class="p-navigation__logo-tag">
              <img class="p-navigation__logo-icon"
                   src="https://assets.ubuntu.com/v1/82818827-CoF_white.svg"
                   alt="" />
            </div>
            <span class="p-navigation__logo-title">Canonical Ubuntu</span>
          </a>
        </div>
        <div>
          <a href="#navigation"
             class="p-navigation__toggle--open js-menu-button"
             title="menu">Menu</a>
          <button href="#navigation-closed"
                  class="p-navigation__toggle--close js-menu-button"
                  title="close menu">Close menu</button>
        </div>
      </div>
      <nav class="p-navigation__nav js-show-nav" role="menubar">
        <ul class="p-navigation__items js-navigation-items global-nav"
            role="menu">
          <li class="p-navigation__item--dropdown-toggle"
              id="products-cn"
              data-dropdown-url="/templates/navigation/products">
            <a class="p-navigation__link"
               role="menuitem"
               href="/navigation#products-navigation"
               aria-controls="products-content"
               tabindex="0">产品和服务</a>

               {{ vf_nav_mobile('products-cn-content-mobile', dropdown.products) }}

          </li>
          
          <li class="p-navigation__item--dropdown-toggle"
              id="solution-cn"
              data-dropdown-url="/templates/navigation/solution">
            <a class="p-navigation__link"
               role="menuitem"
               href="/navigation#solution-navigation"
               aria-controls="solution-content"
               tabindex="0">解决方案</a>

            {{ vf_nav_mobile('solution-cn-content-mobile', dropdown.solutions) }}
          </li>
          <li class="p-navigation__item" role="menuitem">
            <a class="p-navigation__link"
               href="/download"
               onclick='dataLayer.push({ event: "GAEvent", eventCategory: "Primary navigation", eventAction: "from:" + window.location.href + " to: /download", eventLabel: "Download", eventValue: undefined, });'>下载</a>
          </li>
          <li class="p-navigation__item" role="menuitem">
            <a class="p-navigation__link"
               href="/blog"
               onclick='dataLayer.push({ event: "GAEvent", eventCategory: "Primary navigation", eventAction: "from:" + window.location.href + " to: /blog", eventLabel: "Blog", eventValue: undefined, });'>博客</a>
          </li>
          <li class="p-navigation__item" role="menuitem">
            <a class="p-navigation__link"
               href="/engage"
               onclick='dataLayer.push({ event: "GAEvent", eventCategory: "Primary navigation", eventAction: "from:" + window.location.href + " to: /engage", eventLabel: "Engage", eventValue: undefined, });'>案例和资源</a>
          </li>
          <li class="p-navigation__item" role="menuitem">
            <a class="p-navigation__link"
               href="/contact"
               onclick='dataLayer.push({ event: "GAEvent", eventCategory: "Primary navigation", eventAction: "from:" + window.location.href + " to: /contact", eventLabel: "Contact", eventValue: undefined, });'>联系我们</a>
          </li>
        </ul>
        <span class="u-off-screen">
          <a href="#main-content">Jump to main content</a>
        </span>
      </nav>
    </div>
  </header>

  <div class="dropdown-window-overlay fade-animation"></div>
  <div class="dropdown-window is-dark slide-animation">
    {{ vf_nav_dropdown('products-cn-content', dropdown.products) }}
    {{ vf_nav_dropdown('solution-cn-content', dropdown.solutions) }}
  </div>

  <style>
    .p-navigation__items {
      width: 100%;
    }

    .p-navigation__items>li#all-canonical {
      margin-left: auto;
    }
  </style>
{% endblock header_banner %}
